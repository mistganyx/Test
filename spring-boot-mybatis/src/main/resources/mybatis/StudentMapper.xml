<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DT//DTD Mapper 3.0//EN"  "  http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    <mapper namespace="com.example.demo.mapper.StudentMapper">
    <resultMap id="studentRM" type="com.example.demo.bean.Student">
        <id column="id"  jdbcType="INTEGER" property="id"></id>
        <result column="name" jdbcType="VARCHAR" property="name"></result>
        <result column="c_id"  jdbcType="INTEGER" property="gradeId"></result>
       <result column="addressId"  jdbcType="INTEGER" property="addressId"></result>
       <result column="age"  jdbcType="INTEGER" property="age"></result>
<association property="address" column="AddressId"  javaType="com.example.demo.bean.Address" select="com.example.demo.mapper.AddressMapper.select"></association>
    
    </resultMap>
    <insert id="add"  parameterType="com.example.demo.bean.Student">
    INSERT INTO `student` (
  `id`,
  `name`,
  `c_id`,
  `addressId`,
  `age`
) 
VALUES
  (
    #{id},
    #{name},
    #{gradeId},
    #{addressId},
   #{age}
  ) ;
    </insert>
     <delete id="delete" parameterType="int">
       DELETE 
      FROM
      `student` 
WHERE `id` = #{id} ;
       </delete>
       <update id="update"  parameterType="com.example.demo.bean.Student" >
       UPDATE 
  `student` 
SET
  `id` = #{id},
  `name` = #{name},
   `c_id` =  #{gradeId},
  `addressId` = #{addressId},
  `age` = #{age} 
WHERE `id` = #{id} ;
       </update>
       <select id="select"  parameterType="int" resultMap="studentRM">
       select * from `student` where id = #{id}
       </select>
      
      
      
        <select id="findbyclassid"  parameterType="int" resultMap="studentRM">
       select * from `student` where c_id = #{id}
       </select>
       
       
       
         <select id="selectstudentbymap"  parameterType="Map" resultMap="studentRM">
      select * from `student` <where>
      <if test="name!=null">
          name=#{name}
      </if>
      <if test="id!=null">
           and id=#{id}
      </if>
      </where>
       </select>
       
       
    
      <delete id="deleteByAddressId"  parameterType="Map" >
       DELETE 
      FROM
      `student`
     
      where
      AddressId in
      <foreach item="d" collection="addressId" open="(" separator="," close=")">
      #{d}
      </foreach>
       </delete>
       
       
       
 </mapper> 